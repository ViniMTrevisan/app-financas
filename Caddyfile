https://financasbackend.duckdns.org {
# Handle OPTIONS requests BEFORE proxying
    @options {
                 method OPTIONS
             }

    handle @options {
                        header {
                                   Access-Control-Allow-Origin "https://app-financas-vinidev.vercel.app"
                                   Access-Control-Allow-Methods "GET, POST, PUT, DELETE, OPTIONS, PATCH"
                                   Access-Control-Allow-Headers "*"
                                   Access-Control-Allow-Credentials "true"
                                   Access-Control-Max-Age "3600"
                               }
                        respond 204
                    }

# For all other requests
    handle {
               reverse_proxy backend:8081

               header {
                          Access-Control-Allow-Origin "https://app-financas-vinidev.vercel.app"
                          Access-Control-Allow-Methods "GET, POST, PUT, DELETE, OPTIONS, PATCH"
                          Access-Control-Allow-Headers "*"
                          Access-Control-Allow-Credentials "true"
                      }
           }

    log {
            output file /var/log/caddy/access.log
            format console
        }
}